{"version":3,"file":"static/js/128.f8c64d18.chunk.js","mappings":"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","sources":["features/ml-management/pages/ModelDetailPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Box,\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Chip,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport apiClient from '../../../api/client';\r\nimport { useTenantContext } from '../../../contexts/TenantContext';\r\n\r\ninterface Model {\r\n  id: string;\r\n  model_name: string;\r\n  model_type: string;\r\n  framework: string;\r\n  description: string;\r\n  is_active: boolean;\r\n}\r\n\r\ninterface ModelVersion {\r\n  id: string;\r\n  version: string;\r\n  stage: string;\r\n  accuracy: number | null;\r\n  f1_score: number | null;\r\n  training_date: string;\r\n}\r\n\r\nconst stageChipColor = (stage: string): 'success' | 'info' | 'default' => {\r\n  switch (stage.toLowerCase()) {\r\n    case 'production':\r\n      return 'success';\r\n    case 'staging':\r\n      return 'info';\r\n    default:\r\n      return 'default';\r\n  }\r\n};\r\n\r\nexport default function ModelDetailPage() {\r\n  const { tenantVersion } = useTenantContext();\r\n  const { modelId } = useParams<{ modelId: string }>();\r\n  const navigate = useNavigate();\r\n\r\n  const [model, setModel] = useState<Model | null>(null);\r\n  const [versions, setVersions] = useState<ModelVersion[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [modelRes, versionsRes] = await Promise.all([\r\n          apiClient.get(`/ml/models/${modelId}`),\r\n          apiClient.get(`/ml/models/${modelId}/versions`),\r\n        ]);\r\n        setModel(modelRes.data);\r\n        setVersions(versionsRes.data);\r\n      } catch (err: any) {\r\n        setError(err.response?.data?.detail || 'Failed to fetch model details.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [modelId, tenantVersion]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n        <Box display=\"flex\" justifyContent=\"center\" py={8}>\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <Button\r\n        startIcon={<ArrowBackIcon />}\r\n        onClick={() => navigate('/models')}\r\n        sx={{ mb: 2 }}\r\n      >\r\n        Back to Models\r\n      </Button>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {model && (\r\n        <Paper sx={{ p: 3, mb: 3 }}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            {model.model_name}\r\n          </Typography>\r\n          <Box display=\"flex\" gap={2} flexWrap=\"wrap\" mb={1}>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              <strong>Type:</strong> {model.model_type}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              <strong>Framework:</strong> {model.framework}\r\n            </Typography>\r\n            <Chip\r\n              label={model.is_active ? 'Active' : 'Inactive'}\r\n              color={model.is_active ? 'success' : 'default'}\r\n              size=\"small\"\r\n            />\r\n          </Box>\r\n          {model.description && (\r\n            <Typography variant=\"body1\" sx={{ mt: 1 }}>\r\n              {model.description}\r\n            </Typography>\r\n          )}\r\n        </Paper>\r\n      )}\r\n\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Versions\r\n      </Typography>\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Version</TableCell>\r\n              <TableCell>Stage</TableCell>\r\n              <TableCell>Accuracy</TableCell>\r\n              <TableCell>F1 Score</TableCell>\r\n              <TableCell>Training Date</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {versions.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={5} align=\"center\">\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ py: 4 }}>\r\n                    No versions found.\r\n                  </Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              versions.map((v) => (\r\n                <TableRow key={v.id}>\r\n                  <TableCell>{v.version}</TableCell>\r\n                  <TableCell>\r\n                    <Chip\r\n                      label={v.stage}\r\n                      color={stageChipColor(v.stage)}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {v.accuracy != null ? `${(v.accuracy * 100).toFixed(1)}%` : '-'}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {v.f1_score != null ? v.f1_score.toFixed(4) : '-'}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {new Date(v.training_date).toLocaleString()}\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["stageChipColor","stage","toLowerCase","ModelDetailPage","tenantVersion","useTenantContext","modelId","useParams","navigate","useNavigate","model","setModel","useState","versions","setVersions","loading","setLoading","error","setError","useEffect","async","modelRes","versionsRes","Promise","all","apiClient","get","concat","data","err","_err$response","_err$response$data","response","detail","fetchData","_jsx","Container","maxWidth","sx","mt","mb","children","Box","display","justifyContent","py","CircularProgress","_jsxs","Button","startIcon","ArrowBackIcon","onClick","Alert","severity","Paper","p","Typography","variant","gutterBottom","model_name","gap","flexWrap","color","model_type","framework","Chip","label","is_active","size","description","TableContainer","component","Table","TableHead","TableRow","TableCell","TableBody","length","colSpan","align","map","v","version","accuracy","toFixed","f1_score","Date","training_date","toLocaleString","id"],"sourceRoot":""}