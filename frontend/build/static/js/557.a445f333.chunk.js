"use strict";(self.webpackChunkaastreli_frontend=self.webpackChunkaastreli_frontend||[]).push([[557],{3557(e,n,t){t.r(n),t.d(n,{default:()=>b});var r=t(2555),o=t(5043),a=t(9252),s=t(3336),l=t(547),i=t(5865),c=t(6446),u=t(5795),d=t(1906),m=t(8446),h=t(5475),p=t(3216),x=t(4703),A=t(6624),f=t(579);function b(){const e=(0,p.Zp)(),{refreshFromToken:n}=(0,A.n8)(),[t,b]=(0,o.useState)({email:"",username:"",password:"",confirmPassword:"",fullName:"",tenantCode:""}),[v,y]=(0,o.useState)(null),[g,w]=(0,o.useState)(!1),[C,j]=(0,o.useState)(!1),S=e=>{b((0,r.A)((0,r.A)({},t),{},{[e.target.name]:e.target.value}))};return g?(0,f.jsx)(a.A,{maxWidth:"sm",sx:{mt:8},children:(0,f.jsx)(s.A,{sx:{p:4},children:(0,f.jsx)(l.A,{severity:"success",children:"Registration successful! Redirecting to login..."})})}):(0,f.jsx)(a.A,{maxWidth:"sm",sx:{mt:8},children:(0,f.jsxs)(s.A,{sx:{p:4},children:[(0,f.jsx)(i.A,{variant:"h4",gutterBottom:!0,align:"center",children:"Create Account"}),(0,f.jsx)(i.A,{variant:"body2",color:"textSecondary",align:"center",gutterBottom:!0,children:"Register for Aastreli System"}),v&&(0,f.jsx)(l.A,{severity:"error",sx:{mt:2,mb:2},children:v}),(0,f.jsxs)(c.A,{component:"form",onSubmit:async r=>{if(r.preventDefault(),y(null),t.password===t.confirmPassword)if(t.password.length<6)y("Password must be at least 6 characters long");else{j(!0);try{await x.A.register(t.email,t.username,t.password,t.fullName||void 0,t.tenantCode||void 0),n(),e("/")}catch(s){var o,a;y((null===(o=s.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.detail)||"Registration failed. Please try again.")}finally{j(!1)}}else y("Passwords do not match")},sx:{mt:3},children:[(0,f.jsx)(u.A,{fullWidth:!0,label:"Email",name:"email",type:"email",value:t.email,onChange:S,required:!0,sx:{mb:2},autoFocus:!0}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Username",name:"username",value:t.username,onChange:S,required:!0,sx:{mb:2}}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Full Name (optional)",name:"fullName",value:t.fullName,onChange:S,sx:{mb:2}}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Tenant Code (optional)",name:"tenantCode",value:t.tenantCode,onChange:S,sx:{mb:2},helperText:"Leave empty for default tenant"}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Password",name:"password",type:"password",value:t.password,onChange:S,required:!0,sx:{mb:2},helperText:"At least 6 characters"}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:S,required:!0,sx:{mb:3}}),(0,f.jsx)(d.A,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:C,children:C?"Creating account...":"Register"}),(0,f.jsx)(c.A,{sx:{mt:2,textAlign:"center"},children:(0,f.jsxs)(i.A,{variant:"body2",children:["Already have an account?"," ",(0,f.jsx)(m.A,{component:h.N_,to:"/login",children:"Login here"})]})})]})]})})}},8446(e,n,t){t.d(n,{A:()=>S});var r=t(8587),o=t(8168),a=t(5043),s=t(8387),l=t(8610),i=t(6803),c=t(4535),u=t(8206),d=t(3574),m=t(5849),h=t(5865),p=t(2532),x=t(2372);function A(e){return(0,x.Ay)("MuiLink",e)}const f=(0,p.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var b=t(7162),v=t(7266);const y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},g=e=>{let{theme:n,ownerState:t}=e;const r=(e=>y[e]||e)(t.color),o=(0,b.Yn)(n,"palette.".concat(r),!1)||t.color,a=(0,b.Yn)(n,"palette.".concat(r,"Channel"));return"vars"in n&&a?"rgba(".concat(a," / 0.4)"):(0,v.X4)(o,.4)};var w=t(579);const C=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],j=(0,c.Ay)(h.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n["underline".concat((0,i.A)(t.underline))],"button"===t.component&&n.button]}})(e=>{let{theme:n,ownerState:t}=e;return(0,o.A)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:g({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(f.focusVisible)]:{outline:"auto"}})}),S=a.forwardRef(function(e,n){const t=(0,u.b)({props:e,name:"MuiLink"}),{className:c,color:h="primary",component:p="a",onBlur:x,onFocus:f,TypographyClasses:b,underline:v="always",variant:g="inherit",sx:S}=t,k=(0,r.A)(t,C),{isFocusVisibleRef:W,onBlur:N,onFocus:P,ref:R}=(0,d.A)(),[F,D]=a.useState(!1),T=(0,m.A)(n,R),B=(0,o.A)({},t,{color:h,component:p,focusVisible:F,underline:v,variant:g}),L=(e=>{const{classes:n,component:t,focusVisible:r,underline:o}=e,a={root:["root","underline".concat((0,i.A)(o)),"button"===t&&"button",r&&"focusVisible"]};return(0,l.A)(a,A,n)})(B);return(0,w.jsx)(j,(0,o.A)({color:h,className:(0,s.A)(L.root,c),classes:b,component:p,onBlur:e=>{N(e),!1===W.current&&D(!1),x&&x(e)},onFocus:e=>{P(e),!0===W.current&&D(!0),f&&f(e)},ref:T,ownerState:B,variant:g,sx:[...Object.keys(y).includes(h)?[]:[{color:h}],...Array.isArray(S)?S:[S]]},k))})}}]);
//# sourceMappingURL=557.a445f333.chunk.js.map