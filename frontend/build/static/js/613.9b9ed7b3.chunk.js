"use strict";(self.webpackChunkaastreli_frontend=self.webpackChunkaastreli_frontend||[]).push([[613],{3613(e,n,r){r.r(n),r.d(n,{default:()=>g});var i=r(5043),t=r(9252),s=r(1637),o=r(5865),l=r(9650),c=r(3336),d=r(1806),a=r(4882),x=r(8076),h=r(39),j=r(3460),A=r(3845),m=r(5054),u=r(6624),p=r(579);function g(){const{tenantVersion:e}=(0,u.n8)(),[n,r]=(0,i.useState)([]),[g,v]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=async()=>{try{const e=await m.Ay.get("/sensor-readings",{params:{skip:0,limit:100}});r(e.data.readings.filter(e=>e.prediction)),v(!1)}catch(e){console.error("Error fetching predictions:",e),v(!1)}};e();const n=setInterval(e,1e4);return()=>clearInterval(n)},[e]),g?(0,p.jsx)(t.A,{maxWidth:"xl",sx:{mt:4,display:"flex",justifyContent:"center"},children:(0,p.jsx)(s.A,{})}):(0,p.jsxs)(t.A,{maxWidth:"xl",sx:{mt:4,mb:4},children:[(0,p.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:"ML Prediction History"}),(0,p.jsxs)(o.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["All sensor readings with ML predictions (Total: ",n.length,")"]}),(0,p.jsx)(l.A,{component:c.A,sx:{mt:3},children:(0,p.jsxs)(d.A,{children:[(0,p.jsx)(a.A,{children:(0,p.jsxs)(x.A,{children:[(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Timestamp (UTC)"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Sensor ID"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Prediction"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Confidence"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Motor Temp"})}),(0,p.jsx)(h.A,{children:(0,p.jsx)("strong",{children:"Pump Temp"})})]})}),(0,p.jsx)(j.A,{children:0===n.length?(0,p.jsx)(x.A,{children:(0,p.jsx)(h.A,{colSpan:6,align:"center",children:(0,p.jsx)(o.A,{variant:"body2",color:"textSecondary",children:"No predictions yet. Waiting for sensor data..."})})}):n.map(e=>{var n,r,i,t,s,o;return(0,p.jsxs)(x.A,{sx:{bgcolor:"normal"!==(null===(n=e.prediction)||void 0===n?void 0:n.toLowerCase())?"warning.light":"inherit"},children:[(0,p.jsx)(h.A,{children:new Date(e.timestamp+"Z").toLocaleString()}),(0,p.jsx)(h.A,{children:e.sensor_id}),(0,p.jsx)(h.A,{children:(0,p.jsx)(A.A,{label:e.prediction||"Unknown",color:"normal"===(null===(r=e.prediction)||void 0===r?void 0:r.toLowerCase())?"success":"error",size:"small"})}),(0,p.jsx)(h.A,{children:null!=e.confidence?(0,p.jsx)(A.A,{label:"".concat((100*e.confidence).toFixed(1),"%"),color:e.confidence>.7?"success":"warning",size:"small",variant:"outlined"}):"N/A"}),(0,p.jsxs)(h.A,{children:[(null===(i=e.motor_data)||void 0===i||null===(t=i.DE_temp)||void 0===t?void 0:t.toFixed(1))||"N/A","\xb0C"]}),(0,p.jsxs)(h.A,{children:[(null===(s=e.pump_data)||void 0===s||null===(o=s.DE_temp)||void 0===o?void 0:o.toFixed(1))||"N/A","\xb0C"]})]},e._id)})})]})})]})}}}]);
//# sourceMappingURL=613.9b9ed7b3.chunk.js.map