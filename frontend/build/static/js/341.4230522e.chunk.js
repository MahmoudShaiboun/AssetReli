"use strict";(self.webpackChunkaastreli_frontend=self.webpackChunkaastreli_frontend||[]).push([[341],{8341(s,e,t){t.r(e),t.d(e,{default:()=>w});var n=t(5043),r=t(9252),a=t(1637),i=t(1906),o=t(547),c=t(2110),d=t(6494),l=t(5865),A=t(8903),x=t(6446),h=t(9650),j=t(3336),m=t(1806),u=t(4882),y=t(8076),v=t(39),p=t(3460),f=t(3845),g=t(9120),b=t(3216),C=t(5054),_=t(6624),S=t(579);function w(){const{tenantVersion:s}=(0,_.n8)(),{assetId:e}=(0,b.g)(),t=(0,b.Zp)(),[w,M]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[R,I]=(0,n.useState)([]),[W,B]=(0,n.useState)(!0),[F,T]=(0,n.useState)(null);return(0,n.useEffect)(()=>{e&&(async()=>{try{const{data:s}=await C.Ay.get("/assets/".concat(e));if(M(s),s.site_id)try{const{data:e}=await C.Ay.get("/sites"),t=(Array.isArray(e)?e:e.sites||[]).find(e=>e.id===s.site_id);t&&k(t)}catch(n){}const{data:t}=await C.Ay.get("/pg-sensors",{params:{asset_id:e}});I(Array.isArray(t)?t:t.sensors||[])}catch(r){var s,t;T((null===(s=r.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||"Failed to load asset details")}finally{B(!1)}})()},[e,s]),W?(0,S.jsx)(r.A,{maxWidth:"lg",sx:{mt:4,display:"flex",justifyContent:"center"},children:(0,S.jsx)(a.A,{})}):F||!w?(0,S.jsxs)(r.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,S.jsx)(i.A,{startIcon:(0,S.jsx)(g.A,{}),onClick:()=>t("/assets"),sx:{mb:2},children:"Back to Assets"}),(0,S.jsx)(o.A,{severity:"error",children:F||"Asset not found"})]}):(0,S.jsxs)(r.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,S.jsx)(i.A,{startIcon:(0,S.jsx)(g.A,{}),onClick:()=>t("/assets"),sx:{mb:2},children:"Back to Assets"}),(0,S.jsx)(c.A,{sx:{mb:4},children:(0,S.jsxs)(d.A,{children:[(0,S.jsx)(l.A,{variant:"h5",gutterBottom:!0,children:w.asset_name}),(0,S.jsxs)(A.Ay,{container:!0,spacing:2,children:[(0,S.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Asset Code"}),(0,S.jsx)(l.A,{variant:"body1",sx:{fontFamily:"monospace",fontWeight:600},children:w.asset_code})]}),(0,S.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Site"}),(0,S.jsx)(l.A,{variant:"body1",children:N?"".concat(N.site_name," (").concat(N.site_code,")"):w.site_id})]}),(0,S.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Asset Type"}),(0,S.jsx)(l.A,{variant:"body1",children:w.asset_type||"\u2014"})]}),(0,S.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Manufacturer"}),(0,S.jsx)(l.A,{variant:"body1",children:w.manufacturer||"\u2014"})]}),(0,S.jsxs)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,S.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Model Number"}),(0,S.jsx)(l.A,{variant:"body1",children:w.model_number||"\u2014"})]})]})]})}),(0,S.jsx)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,S.jsx)(l.A,{variant:"h6",children:"Associated Sensors"})}),(0,S.jsx)(h.A,{component:j.A,children:(0,S.jsxs)(m.A,{children:[(0,S.jsx)(u.A,{children:(0,S.jsxs)(y.A,{children:[(0,S.jsx)(v.A,{children:(0,S.jsx)("strong",{children:"Sensor Code"})}),(0,S.jsx)(v.A,{children:(0,S.jsx)("strong",{children:"Sensor Name"})}),(0,S.jsx)(v.A,{children:(0,S.jsx)("strong",{children:"Type"})}),(0,S.jsx)(v.A,{children:(0,S.jsx)("strong",{children:"Unit"})}),(0,S.jsx)(v.A,{children:(0,S.jsx)("strong",{children:"Status"})})]})}),(0,S.jsx)(p.A,{children:0===R.length?(0,S.jsx)(y.A,{children:(0,S.jsx)(v.A,{colSpan:5,align:"center",children:(0,S.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{py:4},children:"No sensors associated with this asset."})})}):R.map(s=>(0,S.jsxs)(y.A,{hover:!0,children:[(0,S.jsx)(v.A,{children:(0,S.jsx)(l.A,{variant:"body2",sx:{fontFamily:"monospace",fontWeight:600},children:s.sensor_code})}),(0,S.jsx)(v.A,{children:s.sensor_name}),(0,S.jsx)(v.A,{children:s.sensor_type||"\u2014"}),(0,S.jsx)(v.A,{children:s.unit||"\u2014"}),(0,S.jsx)(v.A,{children:(0,S.jsx)(f.A,{label:!1!==s.is_active?"Active":"Inactive",size:"small",color:!1!==s.is_active?"success":"default"})})]},s.id))})]})})]})}},2110(s,e,t){t.d(e,{A:()=>y});var n=t(8168),r=t(8587),a=t(5043),i=t(8387),o=t(8610),c=t(4535),d=t(8206),l=t(3336),A=t(2532),x=t(2372);function h(s){return(0,x.Ay)("MuiCard",s)}(0,A.A)("MuiCard",["root"]);var j=t(579);const m=["className","raised"],u=(0,c.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(s,e)=>e.root})(()=>({overflow:"hidden"})),y=a.forwardRef(function(s,e){const t=(0,d.b)({props:s,name:"MuiCard"}),{className:a,raised:c=!1}=t,l=(0,r.A)(t,m),A=(0,n.A)({},t,{raised:c}),x=(s=>{const{classes:e}=s;return(0,o.A)({root:["root"]},h,e)})(A);return(0,j.jsx)(u,(0,n.A)({className:(0,i.A)(x.root,a),elevation:c?8:void 0,ref:e,ownerState:A},l))})},6494(s,e,t){t.d(e,{A:()=>u});var n=t(8168),r=t(8587),a=t(5043),i=t(8387),o=t(8610),c=t(4535),d=t(8206),l=t(2532),A=t(2372);function x(s){return(0,A.Ay)("MuiCardContent",s)}(0,l.A)("MuiCardContent",["root"]);var h=t(579);const j=["className","component"],m=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(s,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),u=a.forwardRef(function(s,e){const t=(0,d.b)({props:s,name:"MuiCardContent"}),{className:a,component:c="div"}=t,l=(0,r.A)(t,j),A=(0,n.A)({},t,{component:c}),u=(s=>{const{classes:e}=s;return(0,o.A)({root:["root"]},x,e)})(A);return(0,h.jsx)(m,(0,n.A)({as:c,className:(0,i.A)(u.root,a),ownerState:A,ref:e},l))})}}]);
//# sourceMappingURL=341.4230522e.chunk.js.map