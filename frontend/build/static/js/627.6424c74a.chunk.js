"use strict";(self.webpackChunkaastreli_frontend=self.webpackChunkaastreli_frontend||[]).push([[627],{3627(e,n,t){t.r(n),t.d(n,{default:()=>x});var r=t(5043),o=t(9252),a=t(3336),i=t(5865),s=t(547),l=t(6446),c=t(5795),u=t(1906),d=t(8446),m=t(5475),p=t(3216),A=t(4703),h=t(6624),y=t(579);function x(){const e=(0,p.Zp)(),{refreshFromToken:n}=(0,h.n8)(),[t,x]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[g,f]=(0,r.useState)(null),[S,j]=(0,r.useState)(!1);return(0,y.jsx)(o.A,{maxWidth:"sm",sx:{mt:8},children:(0,y.jsxs)(a.A,{sx:{p:4},children:[(0,y.jsx)(i.A,{variant:"h4",gutterBottom:!0,align:"center",children:"Aastreli Login"}),(0,y.jsx)(i.A,{variant:"body2",color:"textSecondary",align:"center",gutterBottom:!0,children:"Industrial Anomaly Detection System"}),g&&(0,y.jsx)(s.A,{severity:"error",sx:{mt:2,mb:2},children:g}),(0,y.jsxs)(l.A,{component:"form",onSubmit:async r=>{r.preventDefault(),f(null),j(!0);try{await A.A.login(t,b),n(),e("/")}catch(i){var o,a;const e=null===(o=i.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.detail;"string"===typeof e?f(e):Array.isArray(e)?f(e.map(e=>e.msg||String(e)).join("; ")):f("Login failed. Please check your credentials.")}finally{j(!1)}},sx:{mt:3},children:[(0,y.jsx)(c.A,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:e=>x(e.target.value),required:!0,sx:{mb:2},autoFocus:!0}),(0,y.jsx)(c.A,{fullWidth:!0,label:"Password",type:"password",value:b,onChange:e=>v(e.target.value),required:!0,sx:{mb:3}}),(0,y.jsx)(u.A,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:S,children:S?"Logging in...":"Login"}),(0,y.jsx)(l.A,{sx:{mt:2,textAlign:"center"},children:(0,y.jsxs)(i.A,{variant:"body2",children:["Don't have an account?"," ",(0,y.jsx)(d.A,{component:m.N_,to:"/register",children:"Register here"})]})})]})]})})}},8446(e,n,t){t.d(n,{A:()=>w});var r=t(8587),o=t(8168),a=t(5043),i=t(8387),s=t(8610),l=t(6803),c=t(4535),u=t(8206),d=t(3574),m=t(5849),p=t(5865),A=t(2532),h=t(2372);function y(e){return(0,h.Ay)("MuiLink",e)}const x=(0,A.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var b=t(7162),v=t(7266);const g={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},f=e=>{let{theme:n,ownerState:t}=e;const r=(e=>g[e]||e)(t.color),o=(0,b.Yn)(n,"palette.".concat(r),!1)||t.color,a=(0,b.Yn)(n,"palette.".concat(r,"Channel"));return"vars"in n&&a?"rgba(".concat(a," / 0.4)"):(0,v.X4)(o,.4)};var S=t(579);const j=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,c.Ay)(p.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n["underline".concat((0,l.A)(t.underline))],"button"===t.component&&n.button]}})(e=>{let{theme:n,ownerState:t}=e;return(0,o.A)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,o.A)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:f({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(x.focusVisible)]:{outline:"auto"}})}),w=a.forwardRef(function(e,n){const t=(0,u.b)({props:e,name:"MuiLink"}),{className:c,color:p="primary",component:A="a",onBlur:h,onFocus:x,TypographyClasses:b,underline:v="always",variant:f="inherit",sx:w}=t,C=(0,r.A)(t,j),{isFocusVisibleRef:D,onBlur:L,onFocus:F,ref:B}=(0,d.A)(),[R,V]=a.useState(!1),W=(0,m.A)(n,B),M=(0,o.A)({},t,{color:p,component:A,focusVisible:R,underline:v,variant:f}),N=(e=>{const{classes:n,component:t,focusVisible:r,underline:o}=e,a={root:["root","underline".concat((0,l.A)(o)),"button"===t&&"button",r&&"focusVisible"]};return(0,s.A)(a,y,n)})(M);return(0,S.jsx)(k,(0,o.A)({color:p,className:(0,i.A)(N.root,c),classes:b,component:A,onBlur:e=>{L(e),!1===D.current&&V(!1),h&&h(e)},onFocus:e=>{F(e),!0===D.current&&V(!0),x&&x(e)},ref:W,ownerState:M,variant:f,sx:[...Object.keys(g).includes(p)?[]:[{color:p}],...Array.isArray(w)?w:[w]]},C))})}}]);
//# sourceMappingURL=627.6424c74a.chunk.js.map